{"version":3,"file":"server.js","mappings":"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","sources":["webpack://my-filereader/./src/routes/routes.ts","webpack://my-filereader/./src/server.ts","webpack://my-filereader/./src/singletons/FileReader.ts","webpack://my-filereader/external commonjs \"express\"","webpack://my-filereader/external commonjs \"multer\"","webpack://my-filereader/external node-commonjs \"path\"","webpack://my-filereader/webpack/bootstrap","webpack://my-filereader/webpack/before-startup","webpack://my-filereader/webpack/startup","webpack://my-filereader/webpack/after-startup"],"sourcesContent":["import { Router } from 'express';\nimport multer from 'multer';\nimport { MyFilereader } from '../singletons/FileReader';\n\nconst upload = multer();\n\nconst router = Router();\n\nrouter.get('/', (req, res) => {\n  res.render('index');\n});\n\nrouter.post('/upload', upload.single('file'), async (req, res) => {\n  if (!req.file) {\n    return res.status(400).send('No file uploaded.');\n  }\n\n  const myFileReader = MyFilereader.getInstance();\n  const contentToAnalyze = req.file.buffer.toString('utf8');\n\n  const fileContent = myFileReader.getTextFromData(contentToAnalyze);\n  const totalWords = myFileReader.getTotalWords(contentToAnalyze);\n  const totalCharacters = myFileReader.getTotalCharacters(contentToAnalyze);\n  const totalSpaces = myFileReader.getTotalSpaces(contentToAnalyze);\n  const repeatedWords = myFileReader.getRepeatedWords(contentToAnalyze);\n\n  res.render('results', { fileContent, totalWords, totalCharacters, totalSpaces, repeatedWords });\n});\n\nrouter.use((req, res) => {\n  res.status(404).send('Not Found');\n});\n\nexport default router;\n","import express from 'express';\nimport path from 'path';\n\nimport routes from './routes/routes';\n\nexport const app = express();\napp.set('view engine', 'hbs');\napp.set('views', path.join(__dirname, '/public/views'));\n\napp.use('/', routes);\n\napp.listen(3000, () => {\n  console.log('Server in ascolto sulla porta 3000');\n});\n\nmodule.exports = { app };\n","export class MyFilereader {\n  private static instance: MyFilereader | null = null;\n\n  public static getInstance(): MyFilereader {\n    if (!this.instance) {\n      this.instance = new MyFilereader();\n    }\n    return this.instance;\n  }\n\n  public getTextFromData(data: string): string {\n    return data;\n  }\n\n  public getWordsFromData(data: string): string[] {\n    return data.split(/\\s+/);\n  }\n\n  public getTotalWords(data: string): number {\n    return this.getWordsFromData(data).length;\n  }\n\n  public getTotalCharacters(data: string): number {\n    return data.replace(/[^a-z]/gi, '').length;\n  }\n\n  public getTotalSpaces(data: string): number {\n    return data.split(' ').length - 1;\n  }\n\n  public getRepeatedWords(data: string): [string, number][] {\n    const words = this.getWordsFromData(data);\n    const wordCounts: { [key: string]: number } = {};\n    console.log('words :>> ', words);\n\n    words.reduce((acc, word) => {\n      acc[word] = (acc[word] || 0) + 1;\n      return acc;\n    }, wordCounts);\n\n    return Object.entries(wordCounts).filter(([word, count]) => count > 10);\n  }\n}\n","module.exports = require(\"express\");","module.exports = require(\"multer\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/server.ts\");\n",""],"names":[],"sourceRoot":""}